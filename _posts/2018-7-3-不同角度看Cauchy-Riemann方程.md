# 不同角度看Cauchy-Riemann方程

​                                                                        作者：梁桐桐

## 研究复变函数可微性的动机 

​      对于一个实函数，\\(g\\!:\mathbb{R}\rightarrow\mathbb{R}\\)，\\(g\\)在点\\(x_0\\)处的导数是一个常数，通常记为\\(g'(x_0)\\)。导数在几何上有意义，它表示了\\(g\\)的图像（曲线\\(\{(x,g(x))\}\\)）在该点切线的斜率。它的曲线是二维平面的一个子集，人类是可以观察并且画出来大概形状的。不过，当我们面对复函数\\(f:\mathbb{C}\rightarrow\mathbb{C}\\)时，情况就变得困难了。我们会发现像集和原像集都是复平面的一个子集，那么我们需要在四维空间中表示这个函数的图像\\(\{(z,f(z))  :z=x+iy,x,y\in\mathbb{R}\}\\)了，这就不能实函数的导数的情况直接迁移到复函数的导数上。所以我们有充分的动机来研究复函数的可微性。

## 复变函数微分的定义、性质和基本理论

​     以直逼曲是微分的核心思路，也就是说，我们要找一个<u>线性映射</u>在局部逼近函数。对于复向量空间，乘以一个复数很明显就是线性的，从这个角度看，复变函数微分的定义与实函数是一致的。下面来看具体的定义。

#### 定义：复变函数的可微性

假设\\(f:E\subset\mathbb{C}\rightarrow\mathbb{C}\\) 是一个复函数，其中\\(E\\)是\\(\mathbb{C}\\)中的开集。如果极限

​                                                         
\\[
\lim_{h\rightarrow0}\frac{f(z_0+h)-f(z_0)}{h}
\\]

存在（其中\\(h\in \mathbb{C}\\)），我们就说函数\\(f\\)在\\(z_0\\)处**可微**（differentiable）或者说**全纯**（holomorphic）。这个极限值记为\\(f'(z_0)\\)，称之为\\(f\\)在\\(z_0\\)处的导数。



那么怎么才能保证这个极限存在呢？通过\\(\varepsilon-\delta\\)语言的叙述我们可以知道，只要\\(h\\)离原点的距离足够近，不论\\(h\\)是沿那条路径逼近的，这个极限都会趋于复平面内的同一个点。举几个例子说明这一点。

#### 例1

​函数\\(f(z)=1/z\\)在除了原点以外的点，都是可微的。                                          

\\[
f'(z_0)=\lim_{h\rightarrow0}\frac{\frac{1}{z_0+h}-\frac{1}{z_0}}{h}=-\frac{1}{z_0^2}
\\]
下面来看一个反例

#### 例2

函数\\(f(z)=\bar{z}\\)不是可微的 

​                                                                     
\\[
\frac{f(z_0+h)-f(z_0)}{h}=\frac{\bar{h}}{h}
\\]

当\\(h\\)沿实轴逼近原点时，即\\(h\\)为实数时，极限值为\\(1\\)，但当\\(h\\)沿虚轴逼近原点时，即\\(h\\)为纯虚数时，极限值为\\(-1\\)，从这里看出极限并不存在。



​	这个反例启发了我们如何探究复变函数的可微条件。我们知道\\(\mathbb{R}^2\\)作为实线性空间与复平面\\(\mathbb{C}\\)是同构的，我们可以把\\(f\\)写成

​                                                             \\(f(x+iy)=u(x,y)+iv(x,y)\\) 

其中\\(u,v:\mathbb{R}^2\rightarrow\mathbb{R}\\)。举个例子说明清楚：

​                                            \\(f(z)=z^2=f(x+iy)=(x+iy)^2=(x^2-y^2)+i(2xy)\\)

​	这里面\\(u(x,y)=x^2-y^2,v(x,y)=2xy\\)。一个复数有两个实数的自由度——意思一个复数由两个实数来决定，那么干脆把复数视为\\(\mathbb{R}^2\\)中的一个向量来研究（但是这个是有很大局限性的，后面会说明这个局限性，并且用更加恰当的形式来表示复数），那么函数也写成二元向量函数

\\[
F(x,y)=(u(x,y),v(x,y))
\\]
​	我们知道这个向量函数的微分是一个可以用矩阵表示出来的线性映射（变换），我们称这个矩阵为雅可比矩阵(Jacobian)，记为\\(J\\)，增量\\(\textbf{h}=(h_1,h_2)\\)，它的可微性描述为                                                 

\\[
\frac{|F(x_0+h_1,y_0+h_2)-F(x_0,y_0)-J\textbf{h}|}{|\textbf{h}|}\rightarrow 0, |(h_1,h_2)|\rightarrow 0
\\]
​	我们会发现如果把\\(F(x,y)=(u(x,y),v(x,y))\\)代入进去的话，它和复变函数的微分的描述就完全一样了。仔细比对之后，我们发现这对\\(J\\)是有限制的：我们考察例二时发现，尽管它变换成二元向量值函数时是可微的，可它并不是一个可微的复变函数。所以我们还要继续探究复变函数可微分的条件。在此之前，不妨先把雅可比矩阵写出来：

​                                                            
\\[
J_{F(x,y)}=\begin{pmatrix}   \frac{\partial u}{\partial x}&\frac{\partial u}{\partial y}\\\\ \frac{\partial v}{\partial x}&\frac{\partial v}{\partial y}\end{pmatrix}
\\]
​	我们现在就来处理例2中的主要矛盾点：先看看沿实轴的微分，把复数写成：\\(z_0=x_0+iy_0​\\)，\\(h=h_1+ih_2​\\) 得出

\\[
                                      f'(z_0)=\lim_{h_1\rightarrow0}\frac{f(x_0+h_1+iy_0)-f(x_0+y_0}{h_1}=\frac{\partial f}{\partial x}(z_0)
\\]
​	这里要注意，我们要灵活在二元实函数与单复变函数之间转换，这个偏微分算子是固定了\\(y​\\)变量来对函数进行微分的。现在沿虚轴微分，同样的道理

​                                     
\\[
f'(z_0)=\lim_{h_2\rightarrow0}\frac{f(x_0+iy_0+ih_2)-f(x_0+iy_0)}{ih_2}=\frac{1}{i}\frac{\partial f}{\partial y}(z_0)
\\]
那么现在为了使例二的矛盾消失，必须有等式

\\[
\frac{\partial f}{\partial x}(z_0)=\frac{1}{i}\frac{\partial f}{\partial y}(z_0)\tag{1}
\\]
根据这一点，我们现在定义复微分算子

\\[
\frac{\partial }{\partial z}=\frac{1}{2}(\frac{\partial }{\partial x}+\frac{1}{i}\frac{\partial }{\partial y})\tag{2}
\\]
因为若是复可微，那么(1)式必定成立，从而复平面上各个方向的微分都可以用这个复微分算子表示。不妨类比成，方向导数是偏导数的线性组合，现在偏导数都线性相关了，那么方向导数一定和偏导数的方向一样（不论怎么组合偏导数）。为了更加深刻的结论，我们继续代入\\(f(x+iy)=u(x,y)+iv(x,y)\\)，得到

​                                                                    
\\[
\frac{\partial u}{\partial x}=\frac{\partial v}{\partial y}\\ \frac{\partial u}{\partial y}=-\frac{\partial v}{\partial x}
\\]


这就是著名的**Cauchy-Riemann 方程组**。自然地，我们试图证明结论:

#### 定理1： 

​	假设\\(f=u+iv\\)是一个定义在开集\\(E\\)上的复变函数。如果\\(u\\)和\\(v\\)都是连续可微的二元实函数，且满足Cauchy-Riemann 方程组，那么复变函数在\\(f\\)在\\(E\\)上全纯（复可微）

**证明:**我们直接把微分写出来

\\[
u(x+h_1,y+h_2)-u(x,y)=\frac{\partial u}{\partial x}h_1+\frac{\partial u}{\partial y}h_2+o(|h|)
\\]

\\[
v(x+h_1,y+h_2)-v(x,y)=\frac{\partial v}{\partial x}h_1+\frac{\partial v}{\partial y}h_2+o(|h|)
\\]
下面我们把这两个式子合并起来（第一个等式加上第二个等式乘以虚数\\(i\\)），并且代入Cauchy-Riemann 方程组

\\[
f(z+h)-f(z)=(\frac{\partial u}{\partial x}-i\frac{\partial u}{\partial y})(h_1+ih_2)+o(|h|)
\\]
那么现在根据微分的定义，这个函数在\\(z_0\\)点全纯。代入式子(2)可得

\\[
f'(z_0)=2\frac{\partial u}{\partial z}(x_0,y_0)=\frac{\partial f}{\partial z}(x_0,y_0)
\\]
​                                                                                                                                                                                     \\(  \blacksquare\\)

​	现在复函数可微分的理论就基本建立起来了，但是我觉得这还是有点抽象，没有说明复微分和实微分的本质区别，尽管在形式上我们得到的式子很工整对称。大部分复分析/复变函数教材都是这样叙述证明Cauchy-Riemann 方程组的，下面我用一种更加几何的方式来看这个问题。



## 从几何与变换看复数与复变函数

  我们把复数写成\\(z=\rho e^{i\theta}\\)，那么复数之间的乘法可以看成：模长相乘，辐角相加。也就是说，一个复数可以表示复平面的一个变换，而且最关键的是**这个变换是线性的**！我们在学习线性代数的时候知道线性变换可以通过基变换来表示，进而写成矩阵的形式。那么现在一个很自然的想法就是找到一个\\(2\times2\\)矩阵表示\\(\mathbb{R}^2\\)的变换对应复数在复平面这种变换。

​	模长相乘，辐角相加，用变换表示就是伸缩旋转。那么用矩阵写出来就是                                              

\\[
\begin{pmatrix}\rho&0\\\0&\rho\end{pmatrix}\begin{pmatrix}\cos\theta&-\sin\theta\\\\sin\theta&\cos\theta\end{pmatrix}
\\]
​	前面那个矩阵是自伴矩阵，后面那个矩阵是一个等距同构(isometry)。关于矩阵可以去看我的知乎回答，上面写得很详细，这里简单说一下。我们把这两个矩阵合并起来可以写成一个工整的形式

\\[
F_M=\left\lbrace\begin{pmatrix} a&-b\\\b&a \end{pmatrix}|a,b \in\mathbb{R}\right\rbrace
\\]
这是一个正规且不自伴矩阵的集合，很容易可以证明这个集合关于矩阵加法和矩阵乘法是一个**域**（关于域的概念在此不赘述），而且**这个域和复数域\\(\mathbb{C}\\)同构**。



​	我们知道，函数表示一个变换，但是这个变换会很复杂。对于性质很好的变换，我们可以在局部用线性变换来近似它的效果，这也就是微分的意义，因为线性变换是直观的且有优越的可计算性。对于单实变函数，微分是一个实数，表示对局部的伸缩——对于单复变函数，微分是一个复数，表示对局部的伸缩**旋转** 。我们看到，多了一个旋转的过程，而且旋转的角度都是相同的。也就是说，我们用**伸缩旋转**这种变换来近似局部的单复变函数表示的变换。伸缩旋转变换是线性变换的真子集——一个线性变换未必是伸缩旋转，因为不是所有线性变换都会把所有的向量都旋转相同的角度，这个反例很容易举。考察刚刚我们得出矩阵域\\(F_M\\)，这个域就是我们想要的结果。

现在根据之前的思路，我们把单复变函数看成一个二元向量函数，若是这个二元向量函数的微分（即雅可比矩阵）在域\\(F_M\\)里，那么它可以用对应的复数来代替。若是不在\\(F_M\\)，则必然不能用复数来表述，因为不是所有的向量都在这个变换的作用下旋转相同的角度，从而无法用复数来近似这个变换，那么就说它是不可微的。如果雅可比矩阵必须得是这种形式的话，那么必定要求复变函数满足Cauchy-Riemann 方程组:

​								
\\[
J_{F(x,y)}=\begin{pmatrix}\frac{\partial u}{\partial x}&\frac{\partial u}{\partial y}\\ \frac{\partial v}{\partial x}&\frac{\partial v}{\partial y}\end{pmatrix}\in F_M
\\]
根据这个我们可以导出更加有意思的结论，既然在局部近似的变换中，向量变换的角度都相同，那么我们就说一个全纯映射是**保角**的。我们将这个命题特殊化（但不失一般性）：

#### 定理2

对于一个二元向量函数\\(F(x,y)=(u(x,y),v(x,y))\\)连续可微且满足Cauchy-Riemann 方程组。把这个函数视为坐标变换。我们知道\\(X\\)轴和\\(Y\\)轴是垂直的，变换过来的“坐标系”是\\(u-\\)曲线和\\(v-\\)曲线（原点为\\((u(0,0),v(0,0))\\)，曲线分别为\\(v=v_0\\)与\\(u=u_0\\))，那么在任意一点\\((x_0,y_0)\\)，\\(u-\\)曲线和\\(v-\\)曲线都互相垂直，即切向量互相垂直。下面来证明这一点：

**证明：**对于固定的点，利用方程来隐式表达曲线

\\[
u(x,y)=u(x_0,y_0)=u_0
\\]
\\[
v(x,y)=v(x_0,y_0)=v_0
\\]
运用隐函数定理求导

\\[
\frac{\partial u}{\partial x}+\frac{\partial u}{\partial y}\frac{dy_1}{dx}=0
\\]

\\[
\frac{\partial v}{\partial x}+\frac{\partial v}{\partial y}\frac{dy_2}{dx}=0
\\]
我们知道，若是两条线垂直，那么它们的斜率的积为-1，在这里排除掉所有偏导数都等于0的情况，这个情况是trivial的。假设都不为零我们有                       

\\[
\frac{dy_1}{dx}=-\frac{\frac{\partial u}{\partial y}}{\frac{\partial u}{\partial x}}
\\]
以及

​                                                                               
\\[
\frac{dy_2}{dx}=-\frac{\frac{\partial v}{\partial y}}{\frac{\partial v}{\partial x}}
\\]
将它们相乘并代入Cauchy-Riemann 方程组可得

​                                                                         
\\[
\frac{dy_1}{dx}\frac{dy_2}{dx}=\frac{\frac{\partial u}{\partial y}\frac{\partial v}{\partial y}}{\frac{\partial u}{\partial x}\frac{\partial v}{\partial x}}=-1
\\]
​                                                                                                                                                                                \\(\blacksquare\\) 



**对于满足Cauchy-Riemann 方程组的二元向量函数空间总是与全纯单复变函数空间同构**，所以全纯函数是一个保角映射(conformal map)。

​	到这里本文就结束了，下面总结一下。虽然复变函数对于可微的要求更加苛刻，但同时它获得了更强的结论（还有一个很强的结论是(**全纯函数都是解析的(analytical)**）。本文最主要的思路是从几何直观的角度来研究函数，观察其中的不变量与代数关系。

## 致谢

感谢朱一飞老师给本文章的修改建议，以及任明德同学提供的博客编辑建议。

## 参考资料

1. 《线性代数应该这样学》，第三版，人民邮电出版社*Linear Algebra Done Right*, Third edition by Sheldon Alxer
2. *Complex Analysis* by Elias M.Stein\& Rami Shakarchi，世界图书出版公司
3. 《复分析 可视化方法》，Tristan Needham，齐民友译
4. 《普林斯顿数学指南（第一卷）》，科学出版社
5. 知乎回答：如何直观的理解线性代数中伴随算子（矩阵） 、自伴算子（矩阵）、正规算子（矩阵）？（TDTD的回答）https://www.zhihu.com/question/276301380/answer/420551413









